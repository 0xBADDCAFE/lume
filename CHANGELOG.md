# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/)
and this project adheres to [Semantic Versioning](http://semver.org/).

## [0.9.12] - 2020-12-07
### Fixed
- css plugin use only import and nesting plugins because the other plugins fails in Deno.

## [0.9.11] - 2020-12-06
### Fixed
- Fixed `lume --upgrade` error

## [0.9.10] - 2020-12-06
### Fixed
- Updated dependencies

## [0.9.9] - 2020-12-01
### Fixed
- Asyncronous scripts runner: Don't exit before all promises are resolved [#7].
- Improved `--upgrade` command.

## [0.9.8] - 2020-12-01
### Fixed
- Removed failing dependency

## [0.9.7] - 2020-12-01
### Added
- Support for executing javascript functions in `deno.script()` instead only cli command
- New cli arguments `--src`, `--dest` to change dinamically the src and dest options.
- New property `site.flags` that save all arguments after `--`. For example: `lume --serve -- flag1 flag2`.

### Fixed
- Fixed multi-commands scripts in linux [#7]
- Replaced `dev.jspm.io` dependencies with `jspm.dev`.
- Replaced `denopkg.com` dependencies with `cdn.jsdelivr.net` [#8].
- Updated `highlight.js` to 10.x

## [0.9.6] - 2020-11-28
### Fixed
- Fixed multipage with generators and add support for async generators
- Updated dependencies
- Simplify the code generated by `lume --init`
- Fixed multi-commands with ` && ` and ` & ` [#7]

## [0.9.5] - 2020-11-25
### Added
- Predefined values to `attr` filter.
- New option `server` to configure the local server: `port` and `page404`.

### Changed
- Removed documentation from the main repository

### Fixed
- Version number returned by `lume -v`.

## [0.9.4] - 2020-11-20
### Fixed
- BrokenPipe errors in the server

## [0.9.3] - 2020-11-13
### Fixed
- Version number returned by `lume -v`.

## [0.9.2] - 2020-11-13
### Added
- `--upgrade` command.

### Changed
- Renamed the shortcut for `--version`, `-V` to `-v`.

### Fixed
- `denjunks` installation bug [#6]

## [0.9.1] - 2020-11-06
### Fixed
- `@import` css of the `css()` plugin, using `_includes` as fallback

## [0.9.0] - 2020-11-04
### Added
- New method `script()` to execute scripts like a task manager
- Allow to run scripts in events
- Autodiscover `404.html` file in the built-in server for 404 responses

### Fixed
- Ignore `node_modules` folder by default
- Show an error if the cwd is not a folder
- Enable `attr` filter by default

## [0.8.1] - 2020-10-28
### Added
- New method `ignore()` to ignore files and folders

### Fixed
- Version number on `lume --version`

## [0.8.0] - 2020-10-27
### Added
- New `loadAssets()` to register assets loaders
- New argument in CLI to build the site in a different directory and even choose a different _config.js file.

### Changed
- Renamed `load()` to `loadPages()` and removed the `asset` argument.
- Renamed `data()` to `loadData()`
- Renamed `helper()` to `data()`
- Updating files (in a watch process) dispatches the events `beforeUpdate` and `afterUpdate` (instead `beforeBuild` and `afterBuild`)

## [0.7.3] - 2020-10-17
### Changed
- Removed the version of the import in the `_config.js` file generated with `--init`

### Fixed
- Support for special characters in the url to the HTTP server
- Rebuild inside a try/catch to prevent die on error.

## [0.7.2] - 2020-10-10
### Fixed
- Updated version in cli

## [0.7.1] - 2020-10-10
### Fixed
- Permalinks does not respect the `prettyUrls` configuration  [#1]
- Improved docs to update version

## [0.7.0] - 2020-10-09
### Added
- Added events: `beforeBuild` and `afterBuild`
- Added helper `paginate()`
- `site.process()` function
- New option `prettyUrls`. By default is `true`.

### Removed
- `site.beforeRender()` and `site.afterRender()` transformers. Use `site.process()` instead, that is the equivalent to `afterRender`.

### Fixed
- Improved performance executing some operations in parallel
- Fixed page duplications
- Fixed url filter with non-string values

## [0.6.0] - 2020-09-28
### Added
- New argument to `search.pages()` to sort pages alphabetically
- Added new argument `--help` and aliases `-h` and `-V` to cli
- Added `eta` plugin, to support `Eta` template engine
- New function `helper` to assign global helpers that can be used in the templates

### Removed
- Arguments `path` and `recursive` in `search.pages()`

### Fixed
- `url` filter with relative urls
- postcss incompatibility with deno

## [0.5.1] - 2020-09-25
### Fixed
- `version` variable

## [0.5.0] - 2020-09-24
### Added
- Ability to generate multiple pages using generators

### Changed
- Replaced `pathPrefix` and `url` with `location`

### Fixed
- `url` filter bugs

## [0.4.0] - 2020-09-22
### Added
- Ability to include the date in the filename
- New function `search.folder()`
- New option `--dev` to run in development mode

### Fixed
- Front matter detection
- Site rebuild after creating or removing directories and files
- Improved url filter
- Use content hash to detect real file changes
- Tags propagation
- Ensure beforeRender transformers are executed only once.

## [0.3.1] - 2020-09-19
### Fixed
- Use temporarily a fork of denjunks because loading bugs

## [0.3.0] - 2020-09-19
### Added
- New plugin `svg` to optimize svg files
- New plugin `dom` to manipulate html using the DOM api
- New filter `classname` to manipulate css classes
- New filter `attributes` to manipulate html attributes
- First tests

### Changed
- `explorer` was renamed to `search`

### Fixed
- Refactored source load and reload
- Explorer returns wrong results
- Live-reload bugs

## [0.2.3] - 2020-09-14
### Fixed
- Moved websocket script to server.js to avoid read problems

## [0.2.2] - 2020-09-13
### Added
- New command `lumen --version`

### Fixed
- CLI installation

## [0.2.1] - 2020-09-13
### Fixed
- Module loader execute from remote (http://deno.land/x/lume)
- Use fixed versions for dependencies

## [0.2.0] - 2020-09-13
### Added
- New command `lume --init` to create a `_config.js` file.

### Changed
- Merged `postcss` and `stylecow` plugins in the new `css` plugin.

### Fixed
- JSX engine

## 0.1.0 - 2020-09-13
First version

[#1]: https://github.com/oscarotero/lume/issues/1
[#6]: https://github.com/oscarotero/lume/issues/6
[#7]: https://github.com/oscarotero/lume/issues/7
[#8]: https://github.com/oscarotero/lume/issues/8

[0.9.12]: https://github.com/oscarotero/lume/compare/v0.9.11...v0.9.12
[0.9.11]: https://github.com/oscarotero/lume/compare/v0.9.10...v0.9.11
[0.9.10]: https://github.com/oscarotero/lume/compare/v0.9.9...v0.9.10
[0.9.9]: https://github.com/oscarotero/lume/compare/v0.9.8...v0.9.9
[0.9.8]: https://github.com/oscarotero/lume/compare/v0.9.7...v0.9.8
[0.9.7]: https://github.com/oscarotero/lume/compare/v0.9.6...v0.9.7
[0.9.6]: https://github.com/oscarotero/lume/compare/v0.9.5...v0.9.6
[0.9.5]: https://github.com/oscarotero/lume/compare/v0.9.4...v0.9.5
[0.9.4]: https://github.com/oscarotero/lume/compare/v0.9.3...v0.9.4
[0.9.3]: https://github.com/oscarotero/lume/compare/v0.9.2...v0.9.3
[0.9.2]: https://github.com/oscarotero/lume/compare/v0.9.1...v0.9.2
[0.9.1]: https://github.com/oscarotero/lume/compare/v0.9.0...v0.9.1
[0.9.0]: https://github.com/oscarotero/lume/compare/v0.8.1...v0.9.0
[0.8.1]: https://github.com/oscarotero/lume/compare/v0.8.0...v0.8.1
[0.8.0]: https://github.com/oscarotero/lume/compare/v0.7.3...v0.8.0
[0.7.3]: https://github.com/oscarotero/lume/compare/v0.7.2...v0.7.3
[0.7.2]: https://github.com/oscarotero/lume/compare/v0.7.1...v0.7.2
[0.7.1]: https://github.com/oscarotero/lume/compare/v0.7.0...v0.7.1
[0.7.0]: https://github.com/oscarotero/lume/compare/v0.6.0...v0.7.0
[0.6.0]: https://github.com/oscarotero/lume/compare/v0.5.1...v0.6.0
[0.5.1]: https://github.com/oscarotero/lume/compare/v0.5.0...v0.5.1
[0.5.0]: https://github.com/oscarotero/lume/compare/v0.4.0...v0.5.0
[0.4.0]: https://github.com/oscarotero/lume/compare/v0.3.1...v0.4.0
[0.3.1]: https://github.com/oscarotero/lume/compare/v0.3.0...v0.3.1
[0.3.0]: https://github.com/oscarotero/lume/compare/v0.2.3...v0.3.0
[0.2.3]: https://github.com/oscarotero/lume/compare/v0.2.2...v0.2.3
[0.2.2]: https://github.com/oscarotero/lume/compare/v0.2.1...v0.2.2
[0.2.1]: https://github.com/oscarotero/lume/compare/v0.2.0...v0.2.1
[0.2.0]: https://github.com/oscarotero/lume/compare/v0.1.0...v0.2.0
